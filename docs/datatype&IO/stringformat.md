# String formatting 

---

การแสดงผลข้อมูลประเภท string นั้นสามารถนำข้อมูลประเภทอื่น ๆ มาแทรกระหว่างข้อความได้ โดยจะเป็นการดึงข้อมูลจากตัวแปรหรือค่าคงที่นำมาใส่ในข้อความตามจุดที่เรากำหนด ซึ่งการจัดรูปแบบมีอยู่หลายแบบ ได้แก่

  
## String formatting with “%” (old style) 
  
เป็นการใช้สัญลักษณ์ "%" แทนตำแหน่งของตัวแปรหรือค่าคงที่ที่เราจะใส่ มีหลักการเขียนคือ<br>
**“%ตัวอักษรตามประเภทของค่า“ % (ค่าหรือประเภทที่เราจะแทรก)**<br>
โดยจะใช้ตัวอักษรหลัง "%" เพื่อจำแนกประเภทของตัวแปรที่เราจะแทนค่าลงไป แบ่งออกเป็น

Format Sequence | คำอธิบาย |
-|-|
%s |***str*** (ข้อความ)|
%d |***int*** (จำนวนเต็ม)|
%f |***float*** (จำนวนจริง)|
%x |จำนวนในรูปของเลขฐาน 16|
%r |สำหรับการดีบักข้อมูล|

### ตัวอย่างการใช้ String formatting with “%”

- ตัวอย่างการใช้ %s

```python
print("Hello %s" % ("World"))
# ผลที่แสดงออกมาคือ Hello World
```

- ตัวอย่างการใช้ %d

```python
print("I'm %d years old" % (21))
# ผลที่แสดงออกมาคือ I'm 21 years old
```

- ตัวอย่างการใช้ %f

```python
print("I have %f baht" % (11.12))
# ผลที่แสดงออกมาคือ I have 11.12 baht
```

และการใส่ "%" นั้นใน 1 ข้อความสามารถใส่ได้มากกว่า 1 ตัว โดยลำดับของค่าที่ใส่จะต้องตามลำดับของสัญลักษณ์ "%" จากซ้ายไปขวาโดยจะคั่นค่าแต่ละค่าด้วยสัญลักษณ์ comma ( , ) เช่น<br>
**"%ตัวที่1 %ตัวที่2" % (ค่าของ%ตัวที่1, ค่าของ%ตัวที่2)**<br>
สามารถดูตัวอย่างได้ตามโค้ดด้านล่าง

```python
#1 
money = 50 
age = 18 
print("money = %d, age = %d" % (money, age)) # money = 50, age = 18 
print("money = %-5d, age = %d" % (money, 20)) # money = 50 age = 20 
print("age = %f" % 20) # age = 20.000000

#2
pi_value = 3.14159265358979323846264338 
print("Pi value = %.4f" % pi_value) # Pi value = 3.1416

#3 
planet = "Mars" 
print("Hello %s!" % planet) # Hello Mars! 
print("%-8s is next to Earth" % planet) # Mars is next to Earth

```

> จากบรรทัดที่ 4 ในตัวอย่าง คือการนำค่าในตัวแปร money นำมาใส่ในตำแหน่งของ "%d" ตัวแรก และนำค่าในตัวแปร age นำมาใส่ในตำแหน่งของ "%d" ตัวที่ 2 ผลที่ได้ออกมาจึงเป็น "money = 50, age = 18"

---

## String formatting in new style (str.format)

 ใน string formatting ด้านบนนั้นเป็น string formatting แบบเก่า ซึ่งใน python 2.7 นั้นได้เพิ่มวิธีการ format string แบบใหม่มา โดยการ format แบบใหม่นั้นสามารถจัดลำดับการ format ด้วยผู้ใช้ได้ง่ายขึ้นอีกด้วย โดยการใช้สัญลักษณ์ “{}” ในการบอกตำแหน่ง ร่วมกับคำสั่ง .format() ในการบอกค่าที่จะใส่ <br>

ซึ่งสิ่งที่อยู่ในสัญลักษณ์ “{}” สามารถใส่ทั้งลำดับของข้อมูลหรือชื่อของตัวแปรลงไปได้เพื่อกำหนดค่าที่จะแทน เช่น


```python
print("{}".format("Hello World!")) # Hello World!

print("Hi! my name is {1}, I love {@}.". format("PSIT", "Bob")), 
# Hi! my name is Bob, I love PSIT.

print("Hi! my name is {name}, I love {subject}.".format(subject="PSIT", name="Bob")) 
# Hi! my name is Bob, I love PSIT.
```

> โดยจากรูปจะเห็นว่า การ print ในแบบที่สองจะใส่ลำดับของข้อมูลในสัญลักษณ์ “{}” และในแบบที่สามจะมีการประกาศตัวแปรในคำสั่ง .format() และเรียกใช้ชื่อตัวแปรในสัญลักษณ์ “{}” เลย

---

## Formatted string literals (f-string)

***และยังมีแบบที่ใหม่กว่านี้!***
โดยใน python 3.6 นั้นได้เพิ่ม Formatted string literals หรือที่เรียกกันว่า f-string ทำให้สามารถเข้าถึงได้อิสระกว่าเดิม <br>
ซึ่งในรูปแบบนี้จะใช้ตัวอักษร f มาเขียนหน้าข้อความร่วมกับสัญลักษณ์ “{}” แทนตำแหน่งของค่า ซึ่งรูปแบบนี้จะไม่ต้องบอกค่าของตำแหน่ง แต่จะสามารถดึงข้อมูลจากตัวแปรที่เราประกาศไว้ได้เลย เช่น

```python
planet = "Mars!" 
print(f"Hello {planet}") # Hello Mars!

name = "Bob" 
age = 20 
print(f"Hi! my name is {name}, I'm {age} years old.") 
#Hi! my name is Bob, I'm 20 years old.

```

> จากโค้ดในบรรทัดที่ 1 จะเห็นว่า เราสามารถดึงข้อมูลของตัวแปรชื่อ planet มาใส่ได้เลยโดยที่ไม่ต้องบอกอะไรด้านหลังข้อความ

แต่น่าเสียดายที่ E-Judge ของเรานั้นรองรับถึงแค่ python 3.4 เราจึงไม่สามารถใช้ f-string ได้ แต่ string formatting แบบใหม่ก็ช่วยเราได้เยอะอยู่เหมือนกันนะ!! น้อง ๆ สามารถอ่าน documentation ของการ format ได้ทั้งแบบเก่าและแบบใหม่ได้ที่ [Python formatting guide](https://pyformat.info/)

